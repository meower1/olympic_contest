# Olympic NLP Agents Contest Notes

## Context
- معرفی مسابقه: المپیک ایجنت‌های NLP با دو فاز (مرحله انتخابی و فینال ماز زنده).
- فاز ۱ روی حل «قفل»‌های متنی به شکل خطی تمرکز دارد؛ هر قفل یک چالش NLP با ورودی متنی است.
- امتیازدهی: قفل‌های باز شده (مثبت)، تلاش‌های ناموفق و تعداد hint (منفی).
- فقط ۸ ایجنت برتر فاز ۱ به فاز ۲ می‌رسند؛ فاز ۲ مسابقه‌ای همزمان در ماز زنده است که نیاز به تصمیم‌گیری لحظه‌ای دارد.

## محدودیت‌های فنی داوری
- حتما باید از مدل `gpt-4.1-mini` با `base_url="https://api.metisai.ir/openai/v1"` استفاده شود.
- مصرف اعتبار در محیط داوری محدود به ۳ دلار است؛ تماس‌های API باید بهینه باشد.
- توکن ارائه‌شده در ورودی سامانه را از طریق متغیر محیطی بارگذاری کنید؛ استفاده از کلیدهای لوکال ممنوع.
- حالت stream پشتیبانی نمی‌شود.
- ابزارهای آماده LLM مثل `web_search` یا `file_search` ممنوع است؛ فقط ابزارهای سفارشی مجاز هستند.

## ساختار مورد انتظار
- فایل نهایی ارسالی: `solution.zip` شامل `solution.py` و `python_requirements.txt`.
- کلاس `ContestantAgent` در `solution.py` باید سه متد داشته باشد:
- فاز ۱ ابزارهای حداقلی که همگی فعلاً به‌صورت کلاس‌های جداگانه در `solution.py` تعریف شده‌اند:
  - ابزار دریافت و خواندن محتوا از URL (با قابلیت اجرای عملیات ساده در صفحه).
  - ابزار شمارش موجودیت در وب.
  - ابزار تحلیل CSV (خواندن از URL، خلاصه‌سازی، پاسخ به سؤالات کلی و مبتنی بر ID).
  - ابزار فراخوانی API با پارامترهای پویا.
  - ابزار ماشین‌حساب با پشتیبانی از ورودی فارسی.

## نکات پیاده‌سازی
- از LlamaIndex با LLM OpenAI-like و پیکربندی بالا استفاده کنید.
- متغیرهای حساس (API key و ...) را از `.env` با `python-dotenv` یا سامانه داوری بارگذاری کنید.
- هر ابزار در فایل مجزا نگهداری شود تا توسعه فازهای بعدی ساده باشد.
- تاریخچه تلاش‌ها باید در تصمیم‌گیری برای پاسخ بعدی استفاده شود.
- پاسخ خروجی باید فقط متن نهایی یا درخواست راهنما باشد (هیچ لاگ اضافه‌ای برنگردانید).

## اولویت‌های توسعه آتی
1. تکمیل پیاده‌سازی تجزیه prompt و مدیریت history در فاز ۱.
2. پیاده‌سازی واقعی ابزارهای وب، CSV، API و محاسبات.
3. طراحی استراتژی فاز ۲ برای انتخاب مسیر بهینه در ماز.
